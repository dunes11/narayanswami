/*!
 * Leaflet for PHPMaker v2023.11.0
 * Copyright (c) e.World Technology Limited. All rights reserved.
 */
this.ew=this.ew||{},this.ew.maps=this.ew.maps||{},function(e){"use strict";e.accessToken="",e.adjustTileLayerOptions=function(e){if(e.detectRetina){if((window.devicePixelRatio||window.screen.deviceXDPI/window.screen.logicalXDPI)>1)return e;if(window.screen.width>=this.hdWidth&&e.maxZoom>0){let t=Object.assign({},e);return t.tileSize=Math.floor(t.tileSize/2),t.zoomReverse?(t.zoomOffset--,t.minZoom++):(t.zoomOffset++,t.maxZoom--),t.minZoom=Math.max(0,t.minZoom),t}}return e},e.createBounds=function(){return L.latLngBounds()},e.createLatLng=function(e,t){return L.latLng(e,t)},e.createMap=function(e,t){e.dataset.ext="leaflet";let o,a,n=L.map(e,Object.assign({},this.mapOptions,{zoom:t.zoom||10,center:t.latlng}));return"mapbox"==t.service?(o=this.mapboxSettings.urlTemplate,a=this.mapboxSettings.tileLayerOptions):(o=this.openstreetmapSettings.urlTemplate,a=this.adjustTileLayerOptions(this.openstreetmapSettings.tileLayerOptions)),L.tileLayer(o,Object.assign({},a,{accessToken:this.accessToken})).addTo(n),n},e.createMarker=function(e){let t=L.marker(e.latlng,Object.assign({},this.markerOptions,{title:String(e.title||"")}));e.icon&&t.setIcon(L.icon({iconUrl:e.icon}));let o=String(e.description||"").trim();return o&&t.bindPopup(o).openPopup(),e.useMarkerClusterer?e.markerClusterer.addLayer(t):t.addTo(e.map),e.useSingleMap&&e.showAllMarkers&&e.bounds.extend(e.latlng),t},e.createMarkerClusterer=function(e){let t=L.markerClusterGroup(Object.assign({},this.markerClustererOptions));return e.map.addLayer(t),t},e.fitBounds=function(e){e.map&&e.bounds&&e.map.fitBounds(e.bounds)},e.geocode=function(e){let t="mapbox"==e.service,o=t?this.mapboxSettings:this.openstreetmapSettings;return fetch(o.geocodeUrlTemplate.replace("{q}",encodeURIComponent(e.address)).replace("{accessToken}",encodeURIComponent(this.accessToken))).then((e=>e.json())).then((e=>{var o;return t?(null==e||null==(o=e.features)?void 0:o.length)>0?this.createLatLng(e.features[0].center.reverse()):null:(null==e?void 0:e.length)>0?this.createLatLng(parseFloat(e[0].lat),parseFloat(e[0].lon)):null}))},e.hdWidth=1920,e.mapOptions={},e.mapboxSettings={urlTemplate:"https://api.mapbox.com/styles/v1/{id}/tiles/{z}/{x}/{y}?access_token={accessToken}",tileLayerOptions:{attribution:'Map data &copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors, Imagery Â© <a href="https://www.mapbox.com/">Mapbox</a>',maxZoom:18,id:"mapbox/streets-v11",tileSize:512,zoomOffset:-1,detectRetina:!0},geocodeUrlTemplate:"https://api.mapbox.com/geocoding/v5/mapbox.places/{q}.json?limit=1&access_token={accessToken}"},e.markerClustererOptions={},e.markerOptions={},e.openstreetmapSettings={urlTemplate:"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",tileLayerOptions:{attribution:'&copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors',maxZoom:18,minZoom:0,tileSize:512,zoomOffset:-1,detectRetina:!0},geocodeUrlTemplate:"https://nominatim.openstreetmap.org/search?format=json&limit=1&q={q}"},Object.defineProperty(e,"__esModule",{value:!0})}(this.ew.maps.leaflet=this.ew.maps.leaflet||{});
//# sourceMappingURL=ewleaflet.min.js.map